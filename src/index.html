<!-- ... 前面的代码保持不变 ... -->

<div class="container">
    <section id="destinations">
        <!-- ... 目的地部分代码保持不变 ... -->
    </section>
    
    <!-- 添加贪吃蛇游戏部分 -->
    <section id="game" style="margin-top: 5rem;">
        <div class="section-title">
            <h2>旅行小憩 - 贪吃蛇游戏</h2>
        </div>
        <div style="text-align: center; margin-bottom: 20px;">
            <p>旅途中休息一下，来玩个小游戏吧！使用键盘方向键控制蛇的移动。</p>
            <button id="startGameBtn" style="padding: 10px 20px; background: #e57373; color: white; border: none; border-radius: 5px; cursor: pointer; margin-top: 10px;">开始游戏</button>
            <div style="margin-top: 10px;">得分: <span id="score">0</span></div>
        </div>
        <div style="display: flex; justify-content: center;">
            <canvas id="gameCanvas" width="400" height="400" style="background: #f5f5f5; border-radius: 10px;"></canvas>
        </div>
    </section>
    
    <!-- 如果有其他部分，继续保留 -->
</div>

<!-- ... 其他HTML代码保持不变 ... -->

<!-- 在body结束标签前添加游戏脚本 -->
<script>
    // 贪吃蛇游戏代码
    document.addEventListener('DOMContentLoaded', function() {
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const startBtn = document.getElementById('startGameBtn');
        const scoreElement = document.getElementById('score');
        
        // 游戏变量
        let snake = [];
        let food = {};
        let direction = 'right';
        let gameRunning = false;
        let score = 0;
        let gameSpeed = 150; // 控制游戏速度，数值越小越快
        let gameLoop;
        
        // 初始化游戏
        function initGame() {
            // 初始化蛇
            snake = [
                {x: 200, y: 200},
                {x: 190, y: 200},
                {x: 180, y: 200},
                {x: 170, y: 200},
                {x: 160, y: 200}
            ];
            
            // 随机生成食物
            generateFood();
            
            // 设置方向
            direction = 'right';
            
            // 重置分数
            score = 0;
            scoreElement.textContent = score;
            
            // 开始游戏循环
            if (gameLoop) clearInterval(gameLoop);
            gameLoop = setInterval(gameStep, gameSpeed);
            
            gameRunning = true;
        }
        
        // 生成食物
        function generateFood() {
            // 生成随机位置，确保是10的倍数以对齐网格
            food = {
                x: Math.floor(Math.random() * 39) * 10 + 10,
                y: Math.floor(Math.random() * 39) * 10 + 10
            };
            
            // 确保食物不会出现在蛇身上
            for (let i = 0; i < snake.length; i++) {
                if (snake[i].x === food.x && snake[i].y === food.y) {
                    generateFood();
                    break;
                }
            }
        }
        
        // 游戏步骤
        function gameStep() {
            // 清空画布
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // 绘制蛇
            for (let i = 0; i < snake.length; i++) {
                ctx.fillStyle = i === 0 ? '#e57373' : '#ffcdd2';
                ctx.fillRect(snake[i].x, snake[i].y, 10, 10);
                ctx.strokeStyle = '#fff';
                ctx.strokeRect(snake[i].x, snake[i].y, 10, 10);
            }
            
            // 绘制食物
            ctx.fillStyle = '#4CAF50';
            ctx.beginPath();
            ctx.arc(food.x + 5, food.y + 5, 5, 0, Math.PI * 2);
            ctx.fill();
            
            // 移动蛇
            let headX = snake[0].x;
            let headY = snake[0].y;
            
            // 根据方向移动
            if (direction === 'right') headX += 10;
            else if (direction === 'left') headX -= 10;
            else if (direction === 'up') headY -= 10;
            else if (direction === 'down') headY += 10;
            
            // 检查是否吃到食物
            if (headX === food.x && headY === food.y) {
                // 增加分数
                score += 10;
                scoreElement.textContent = score;
                
                // 生成新食物
                generateFood();
                
                // 不移除尾部，让蛇变长
            } else {
                // 移除尾部
                snake.pop();
            }
            
            // 添加新的头部
            snake.unshift({x: headX, y: headY});
            
            // 检查游戏是否结束
            if (checkCollision()) {
                clearInterval(gameLoop);
                gameRunning = false;
                alert('游戏结束！你的得分是: ' + score);
            }
        }
        
        // 检查碰撞
        function checkCollision() {
            const head = snake[0];
            
            // 检查是否撞墙
            if (head.x < 0 || head.x >= canvas.width || head.y < 0 || head.y >= canvas.height) {
                return true;
            }
            
            // 检查是否撞到自己
            for (let i = 1; i < snake.length; i++) {
                if (head.x === snake[i].x && head.y === snake[i].y) {
                    return true;
                }
            }
            
            return false;
        }
        
        // 键盘控制
        document.addEventListener('keydown', function(e) {
            if (!gameRunning) return;
            
            // 防止蛇反向移动
            if (e.key === 'ArrowRight' && direction !== 'left') {
                direction = 'right';
            } else if (e.key === 'ArrowLeft' && direction !== 'right') {
                direction = 'left';
            } else if (e.key === 'ArrowUp' && direction !== 'down') {
                direction = 'up';
            } else if (e.key === 'ArrowDown' && direction !== 'up') {
                direction = 'down';
            }
        });
        
        // 开始游戏按钮
        startBtn.addEventListener('click', function() {
            initGame();
        });
        
        // 初始绘制空白游戏区域
        ctx.fillStyle = '#f5f5f5';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
    });
    
    // 樱花飘落效果代码
    function createCherryBlossom() {
        const cherry = document.createElement('div');
        cherry.classList.add('cherry-blossom');
        
        // 随机大小和位置
        const size = Math.random() * 15 + 5;
        const left = Math.random() * 100;
        
        cherry.style.width = `${size}px`;
        cherry.style.height = `${size}px`;
        cherry.style.left = `${left}%`;
        cherry.style.backgroundColor = Math.random() > 0.5 ? '#ffcdd2' : '#f8bbd0';
        cherry.style.borderRadius = '50%';
        cherry.style.opacity = Math.random() * 0.6 + 0.4;
        
        // 随机动画时长
        const duration = Math.random() * 10 + 8;
        cherry.style.animationDuration = `${duration}s`;
        
        document.body.appendChild(cherry);
        
        // 动画结束后移除元素
        setTimeout(() => {
            cherry.remove();
        }, duration * 1000);
    }
    
    // 每隔一段时间创建樱花
    setInterval(createCherryBlossom, 300);
    
    // 创建城市灯光效果
    function createCityLights() {
        const cityLights = document.getElementById('city-lights');
        for (let i = 0; i < 100; i++) {
            const light = document.createElement('div');
            light.classList.add('light');
            light.style.left = `${Math.random() * 100}%`;
            light.style.top = `${Math.random() * 100}%`;
            light.style.animationDelay = `${Math.random() * 4}s`;
            cityLights.appendChild(light);
        }
    }
    
    // 初始化城市灯光
    createCityLights();
</script>
<!-- ... 其他代码保持不变 ... -->